## DP

### 1. [ä¸‰æ­¥é—®é¢˜](https://leetcode.cn/problems/three-steps-problem-lcci/) 2023.10.25

1. çŠ¶æ€è¡¨ç¤º
    ç»éªŒï¼ˆä»¥æŸä¸ªä½ç½®ä¸ºç»“å°¾/ä»¥æŸä¸ªä½ç½®ä¸ºå¼€å§‹ï¼‰ + é¢˜ç›®è¦æ±‚
    dp[i] ï¼š åˆ°è¾¾iä½ç½®æ—¶ï¼ˆç¬¬iä¸ªå°é˜¶ï¼‰ï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ–¹æ³•

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    ä»¥iä½ç½®çš„çŠ¶æ€ï¼Œ**æœ€è¿‘çš„ä¸€æ­¥**ï¼Œæ¥åˆ’åˆ†é—®é¢˜
    - ä» i - 1 / i - 2 / i - 3 ä¸‰ç§ä½ç½®åˆ° i ä½ç½®

    dp[i] = dp[i-1] + dp[i-2] + dp[i-3]

3. åˆå§‹åŒ–
    dp[1] = 1
    dp[2] = 2
    dp[3] = 4

4. å¡«è¡¨é¡ºåº
   ä»å·¦å¾€å³

5. è¿”å›å€¼
   dp[n]


```cpp{.line-numbers}
class Solution {
public:
    int waysToStep(int n) {
        // 1. åˆ›å»ºdpè¡¨
        // 2. åˆå§‹åŒ–
        // 3. å¡«è¡¨
        // 4. è¿”å›å€¼

        const int MOD = 1e9 + 7;

        // å¤„ç†è¾¹ç•Œæ¡ä»¶
        if(n == 1 || n == 2) return n;
        if(n == 4) return 4;

        vector<int> dp(n+1);
        dp[1] = 1, dp[2] = 2, dp[3] = 4;
        for(int i = 4; i <= n; ++i)
            dp[i] = ((dp[i - 1] + dp[i - 2]) % MOD + dp[i - 3]) % MOD;
        return dp[n];
    }
};
```


### 2. [ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/) 2023.10.26


#### è§£æ³•1:

1. çŠ¶æ€è¡¨ç¤º
    ç»éªŒ + é¢˜ç›®è¦æ±‚
    ä»¥iä½ç½®ä¸ºç»“å°¾ï¼Œ+ å…·ä½“é¢˜ç›®è¦æ±‚
    dp[i]è¡¨ç¤ºï¼šåˆ°è¾¾iä½ç½®æ—¶çš„æœ€å°èŠ±è´¹

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    ç”¨ä¹‹å‰æˆ–è€…ä¹‹åçš„çŠ¶æ€æ¨å¯¼å‡ºdp[i]çš„å€¼ï¼Œç»éªŒå‘Šè¯‰æˆ‘ä»¬æ ¹æ®æœ€è¿‘çš„ä¸€æ­¥æ¥åˆ’åˆ†é—®é¢˜
    åˆ°è¾¾iä½ç½®æœ‰ä¸¤ç§æƒ…å†µï¼šä»i-1æˆ–è€…i-2ä½ç½®æ”¯ä»˜å¯¹åº”çš„é’±åˆ°è¾¾iä½ç½®
    - åˆ°è¾¾ i - 1 ï¼Œæ”¯ä»˜cost[i-1]ï¼Œèµ°ä¸€æ­¥
    - åˆ°è¾¾ i - 2ï¼Œ æ”¯ä»˜cost[i-2]ï¼Œèµ°ä¸¤æ­¥

    dp[i] = min{ dp[i-1] + cost[i-1], dp[i-2] + cost[i-2]}

3. åˆå§‹åŒ–
    ä¿è¯å¡«è¡¨çš„æ—¶å€™ä¸è¶Šç•Œï¼Œç”±å‡ ä¸ªæ˜“æ¨å¯¼çš„åˆå€¼æ»šåŠ¨æ±‚è§£
    dp[0] = dp[1] = 1

4. å¡«è¡¨é¡ºåº
    ä¿è¯æ±‚dp[i]çš„æ—¶å€™dp[i-1],dp[i-2]å·²ç»æ±‚å‡º
    ä»å·¦å¾€å³

5. è¿”å›å€¼
    dp[n]

```cpp{.line-numbers}
class Solution {
public:
    int minCostClimbingStairs(vector<int>& cost) {
        int n = cost.size();
        vector<int> dp(n+1);
        dp[0] = dp[1] = 0;
        for(int i = 2; i <= n; i++)
            dp[i] = min((dp[i-1] + cost[i-1]),(dp[i-2] + cost[i-2]));
        return dp[n];
    }
};
```

#### è§£æ³•2:

1. çŠ¶æ€è¡¨ç¤º
    ç»éªŒ + é¢˜ç›®è¦æ±‚
    ä»¥iä½ç½®ä¸ºèµ·ç‚¹ï¼Œ+ å…·ä½“é¢˜ç›®è¦æ±‚
    dp[i]è¡¨ç¤ºï¼šä»iä½ç½®å‡ºå‘åˆ°è¾¾æ¥¼é¡¶æ­¤æ—¶çš„æœ€å°èŠ±è´¹

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[n] = 0
    dp[n-1] = cost[n-1]
    dp[n-2] = cost[n-2]

    æ”¯ä»˜cost[i]åèµ°ä¸€æ­¥æˆ–è€…èµ°ä¸¤æ­¥ï¼ˆçœ‹å“ªä¸€ç§çš„èŠ±è´¹å°‘ï¼‰

    dp[i] = min{dp[i+1] + cost[i], dp[i+2] + cost[i]} = min{dp[i+1], dp[i+2]} + cost[i]

3. åˆå§‹åŒ–
    ä¿è¯å¡«è¡¨çš„æ—¶å€™ä¸è¶Šç•Œï¼Œç”±å‡ ä¸ªæ˜“æ¨å¯¼çš„åˆå€¼æ»šåŠ¨æ±‚è§£
    dp[n] = 0
    dp[n-1] = cost[n-1]
    dp[n-2] = cost[n-2]

4. å¡«è¡¨é¡ºåº
    ä¿è¯æ±‚dp[i]çš„æ—¶å€™dp[i+1],dp[i+2]å·²ç»æ±‚å‡º
    ä»å³å¾€å·¦

5. è¿”å›å€¼
    min{dp[0], dp[1]}

```cpp{.line-numbers}
class Solution {
public:
    int minCostClimbingStairs(vector<int>& cost) {
        int n = cost.size();
        // dp[i]è¡¨ç¤ºï¼šä»iä½ç½®å‡ºå‘åˆ°è¾¾æ¥¼é¡¶æ­¤æ—¶çš„æœ€å°èŠ±è´¹
        // æŒ‰ç…§è¿™ç§çŠ¶æ€è¡¨ç¤ºï¼Œdpè¡¨åªéœ€è¦å¼€å’ŒcoståŒç­‰å¤§å°
        vector<int> dp(n);
        dp[n-1] = cost[n-1];
        dp[n-2] = cost[n-2];
        for(int i = n - 3; i >= 0; --i)
        {
            dp[i] = min(dp[i+1], dp[i+2]) + cost[i];
        }
        return min(dp[0], dp[1]);
    }
};
```


### 3. [è§£ç æ–¹æ³•](https://leetcode.cn/problems/decode-ways/) 2023.10.30

1. çŠ¶æ€è¡¨ç¤º

    æ ¹æ®ç»éªŒ + é¢˜ç›®è¦æ±‚

    ç»éªŒï¼šä»¥iä½ç½®ä¸ºç»“å°¾/å¼€å§‹ å·´æ‹‰å·´æ‹‰

    dp[i] : ä»¥iä½ç½®ä¸ºç»“å°¾æ—¶ï¼Œè§£ç çš„æ–¹æ³•æ€»æ•°

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    ç»éªŒï¼šæ ¹æ®æœ€è¿‘çš„ä¸€æ­¥åˆ’åˆ†é—®é¢˜

    æƒ…å†µ1ï¼šå•ç‹¬è€ƒè™‘iä½ç½®çš„å­—ç¬¦s[i]æ¥è§£ç  æˆåŠŸï¼ˆ'1' <= s[i] <= '9', dp[i-1]ï¼‰ or å¤±è´¥ (0)

    æƒ…å†µ2ï¼šs[i-1]ä¸s[i]ä¸¤è€…ç»“åˆå»è§£ç  æˆåŠŸ( 10 <= s[i-1]*10 + s[i-1] <= 26>, ä¸èƒ½æœ‰å‰å¯¼é›¶ï¼Œæ‰€ä»¥å·¦è¾¹åŒºé—´ç«¯ç‚¹ä¸º10è€Œä¸æ˜¯1ï¼Œdp[i-2]) or å¤±è´¥(0)

    dp[i] = dp[i-1] + dp[i-2] (ä¸¤è€…æƒ…å†µå¯¹åº”æˆåŠŸåŠ å¯¹åº”çš„ï¼Œå¦åˆ™åŠ é›¶)


3. åˆå§‹åŒ–

    ä¿è¯å¡«è¡¨çš„æ—¶å€™ä¸è¶Šç•Œ

    dp[0] = 1ï¼ˆæˆåŠŸï¼‰or 0ï¼ˆå¤±è´¥ï¼‰

    dp[1] = 2ï¼ˆéƒ½æˆåŠŸï¼‰ or 1ï¼ˆä¸¤ç§æˆåŠŸå…¶ä¸€ï¼‰ or 0ï¼ˆå‡å¤±è´¥ï¼‰

4. å¡«è¡¨é¡ºåº

    ä»å·¦å¾€å³

5. è¿”å›å€¼

    dp[n-1], n = å­—ç¬¦ä¸²é•¿åº¦

```cpp{.line-numbers}
class Solution {
public:
    int numDecodings(string s) {
        // åˆ›å»ºdpè¡¨
        // åˆå§‹åŒ–
        // å¡«è¡¨
        // è¿”å›å€¼
        int n = s.size();
        if(n == 0)  return 0;

        vector<int> dp(s.size(), 0);
        if(s[0] >= '1' && s[0] <= '9')
            dp[0] = 1;
        else
            dp[0] = 0;
        // å¤„ç†è¾¹ç•Œæƒ…å†µ éœ€è¦è€ƒè™‘n = 1çš„æƒ…å†µ
        if(n == 1) return dp[n-1];

        int two_digit = (s[0] - '0') * 10 + (s[1] - '0');
        if(two_digit >= 10 && two_digit <=26) dp[1] += 1;
        if(s[0] != '0' && s[1] != '0')  dp[1] += 1;

        for(int i = 2; i < n; ++i)
        {
            two_digit = (s[i-1] - '0') * 10 + (s[i] - '0');
            if(s[i] <= '9' && s[i] >= '1' )     dp[i] += dp[i-1];
            if(two_digit >= 10 && two_digit <= 26)      dp[i] += dp[i-2];
        }
        // for debug
        // for(auto e : dp)
        //     cout << e << " ";
        return dp[n-1];
    }
};
```

#### å¤æ‚åˆå§‹åŒ–è¿‡ç¨‹çš„ä¼˜åŒ–

å‘ç°ä¸Šä¸€æ®µä»£ç åœ¨åˆå§‹åŒ–çš„æ—¶å€™æ¯”è¾ƒå¤æ‚ï¼Œä¸€å¼€å§‹è¿™ä¸ªåˆå§‹åŒ–çš„åˆ¤æ–­æ¡ä»¶æé”™ï¼Œdebugäº†å¥½ä¹…orz ğŸ¤¡

è€Œä¸”åˆå§‹åŒ–çš„é€»è¾‘å’Œæˆ‘ä»¬åœ¨å¾ªç¯ä¸­å¡«è¡¨çš„é€»è¾‘ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåˆå§‹åŒ–çš„è¿‡ç¨‹ä¼˜åŒ–åˆ°å¾ªç¯é‡Œ

å…·ä½“çš„åšæ³•æ˜¯åœ¨dpè¡¨å‰é¢åŠ ä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼ŒåŸæ¥çš„dpè¡¨ä¸ºdp[0,n-1], ç°åœ¨çš„dpè¡¨å˜ä¸ºdp[0,n]ï¼Œå°†åŸæ¥çš„è¡¨ä¸­ä¸‹æ ‡ä¸º0çš„ä½ç½®æ˜ å°„åˆ°ä¸‹æ ‡1çš„ä½ç½®ï¼Œ1æ˜ å°„åˆ°2ä»¥æ­¤ç±»æ¨ï¼Œæ–°è¡¨ä¸­çš„ä¸‹æ ‡0ä¸ºè™šæ‹ŸèŠ‚ç‚¹

ä½†æ˜¯éœ€è¦æ³¨æ„âš ï¸ä¸¤ç‚¹ï¼š

1. è™šæ‹ŸèŠ‚ç‚¹æ”¾çš„åˆå§‹å€¼ï¼Œè¦ä¿è¯åé¢çš„å¡«è¡¨æ˜¯æ­£ç¡®çš„
    å¯¹äºå¾ˆå¤šé—®é¢˜ï¼Œè™šæ‹ŸèŠ‚ç‚¹æ”¾çš„åˆå§‹å€¼ä½å¾€å¾€ä¸º0ï¼Œä½†æ˜¯â—ï¸å¯¹äºè¯¥é—®é¢˜ï¼Œè¿™ä¸ªå€¼ä¸º1ï¼ï¼ï¼

    ä¸ºä»€ä¹ˆï¼ŸğŸ§

    å¾ªç¯å¡«è¡¨çš„é€»è¾‘ä¾æ®çš„æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³dp[i] = dp[i-1] + dp[i-2] (ä¸¤è€…æƒ…å†µå¯¹åº”æˆåŠŸåŠ å¯¹åº”çš„ï¼Œå¦åˆ™åŠ é›¶)ï¼Œæ­¤å¤„å½±å“çš„å€¼ä¸ºdp[2]

    å³ dp[2] = dp[0] + dp[1] (ä¸¤è€…æƒ…å†µå¯¹åº”æˆåŠŸåŠ å¯¹åº”çš„ï¼Œå¦åˆ™åŠ é›¶)

    åŠ dp[1]: è¯´æ˜è¯¥æƒ…å†µä¸‹s[1]ä¸ä¸ºâ€˜0â€™

    åŠ dp[0]: è¯´æ˜s[0]ä¸s[1]ç»„åˆèƒ½æˆåŠŸè¯‘ç ï¼Œè¿™ä¸ªå±äºä¸€ç§è¯‘ç æ–¹å¼ï¼Œéƒ½èƒ½æˆåŠŸè¯‘ç äº†ï¼Œæ€»ä¸èƒ½dp[0] = 0 åŠ 0å‘€ï¼Œè¿™ä¸ªæƒ…å†µä¸‹è¦åŠ 1ï¼Œæ•…dp[0] = 1 (ç®€å•ç†è§£ï¼šå°±æ˜¯ä»€ä¹ˆæ—¶å€™ç”¨åˆ°dp[0]ï¼Ÿæ˜¯åœ¨èƒ½æˆåŠŸè¯‘ç çš„æ—¶å€™ç”¨åˆ°ï¼Œç”¨åˆ°dp[0]ä»£è¡¨å…¶æ˜¯ä¸€ç§åˆæ³•è¯‘ç æ–¹å¼ï¼Œæ‰€ä»¥dp[0] = 1)

2. ä¸‹æ ‡çš„æ˜ å°„å…³ç³»
    dp[i] å¯¹åº” s[i-1]

æ”¹è¿›åçš„ä»£ç 

```cpp{.line-numbers}
class Solution {
public:
    int numDecodings(string s) {
        // åˆ›å»ºdpè¡¨
        // åˆå§‹åŒ–
        // å¡«è¡¨
        // è¿”å›å€¼
        int n = s.size();
        if(n == 0)  return 0;
        // å¤šå¼€ä¸€ä¸ªç©ºé—´å¢åŠ è™šæ‹ŸèŠ‚ç‚¹
        vector<int> dp(s.size() + 1, 0);
        dp[0] = 1;
        if(s[0] != '0') dp[1] = 1;
        // å¤„ç†è¾¹ç•Œæƒ…å†µ éœ€è¦è€ƒè™‘n = 1çš„æƒ…å†µ
        // æ³¨æ„ä¸‹æ ‡çš„æ˜ å°„å…³ç³»
        if(n == 1) return dp[1];
        for(int i = 2; i <= n; ++i)
        {
            int two_digit = (s[i-2] - '0') * 10 + (s[i-1] - '0');
            if(s[i-1] <= '9' && s[i-1] >= '1' )     dp[i] += dp[i-1];
            if(two_digit >= 10 && two_digit <= 26)      dp[i] += dp[i-2];
        }
        // for debug
        // for(auto e : dp)
        //     cout << e << " ";
        return dp[n];
    }
};
```


### 4.[ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/) 2023.10.31

1. çŠ¶æ€è¡¨ç¤º

    ç»éªŒ + é¢˜ç›®è¦æ±‚

    ç»éªŒï¼šä»¥æŸä¸€ä¸ªä½ç½®ä¸ºç»“å°¾/å¼€å§‹

    è¿™é‡Œæˆ‘ä»¬ä»¥[i,j]ä¸ºç»“å°¾ï¼Œdp[i][j]è¡¨ç¤ºèµ°åˆ°[i,j]ä½ç½®çš„æ—¶å€™ï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ–¹å¼

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    ç»éªŒï¼šæ ¹æ®æœ€è¿‘çš„ä¸€æ­¥ï¼Œåˆ’åˆ†é—®é¢˜

    èµ°åˆ°ijä½ç½®ï¼Œæœ€è¿‘çš„ä¸€æ­¥è¦ä¹ˆä»ä¸Šé¢æ¥ï¼Œè¦ä¹ˆä»å·¦è¾¹æ¥

    dp[i][j] è¦ä¹ˆä»d[i-1][j]æ¥ï¼Œè¦ä¹ˆä»dp[i][j-1]æ¥

    dp[i][j] = dp[i-1][j] + dp[i][j-1]

3. åˆå§‹åŒ–

    ä½¿å¾—å¡«è¡¨çš„æ—¶å€™ä¸è¶Šç•Œï¼Œå¢åŠ è™šæ‹ŸèŠ‚ç‚¹ï¼ŒåŠ ä¸Šä¸€åˆ—ä¸€è¡Œï¼ˆå·¦ä¸Šè¾¹çš„åŠåœˆï¼‰

    æ³¨æ„âš ï¸

    - è™šæ‹ŸèŠ‚ç‚¹ä¸­çš„å€¼ï¼Œä¿è¯åé¢å¡«è¡¨çš„ç»“æœæ—¶æ­£ç¡®çš„ï¼Œåœ¨è¯¥é—®é¢˜ä¸­è™šæ‹ŸèŠ‚ç‚¹ä¸­çš„å€¼ä¸º0å³å¯ï¼ˆä½†æ˜¯å¯¹äºdp[1][1]ä¸­çš„ä¸Šé¢ä¸€ä¸ªæˆ–è€…å·¦è¾¹ä¸€ä¸ªä¸¤è€…å…¶ä¸€è®¾ç½®ä¸º1å³å¯ï¼‰
    - ä¸‹æ ‡çš„æ˜ å°„å…³ç³»

4. å¡«è¡¨é¡ºåº

    ä»ä¸Šå¾€ä¸‹å¡«æ¯ä¸€è¡Œ

    æ¯ä¸€è¡Œä»å·¦å¾€å³

5. è¿”å›å€¼

    dp[m][n]

```cpp{.line-numbers}
class Solution {
public:
    int uniquePaths(int m, int n) {
        vector<vector<int>> dp(m+1, vector<int>(n+1));
        dp[0][1] = 1;
        for(int i = 1; i <= m; i++)
        {
            for(int j = 1; j <= n; j++)
            {
                dp[i][j] = dp[i-1][j] + dp[i][j-1];
            }
        }
        return dp[m][n];
    }
};
```

### 5. [ä¸åŒè·¯å¾„II](https://leetcode.cn/problems/unique-paths-ii/) 2023.11.1

1. çŠ¶æ€è¡¨ç¤º

    dp[i][j] è¡¨ç¤ºèµ°åˆ°iï¼Œjä½ç½®æ—¶æ‰€æœ‰çš„æ–¹å¼

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[i][j] ç”±dp[i-1][j]æˆ–è€…dp[i][j-1]èµ°è¿‡æ¥

    ä½†æ˜¯è¦è€ƒè™‘éšœç¢ç‰©ï¼Œä¸¥æ ¼æŒ‰ç…§æˆ‘ä»¬å‰é¢çš„å®šä¹‰ï¼Œæ˜¾ç„¶æœ‰éšœç¢ç‰©çš„æ ¼å­æ˜¯èµ°ä¸è¿‡æ¥çš„ï¼Œæ‰€ä»¥å¦‚æœ[i,j]ä¸Šé¢æœ‰éšœç¢ç‰©ï¼Œåˆ™æŠŠdp[i][j]ç½®ä¸º0

    dp[i][j] = dp[i-1][j] + dp[i][j-1] if obstacle[i-1][j-1] = 0 ï¼ˆæ­¤å¤„è€ƒè™‘äº†è™šæ‹ŸèŠ‚ç‚¹çš„æ˜ å°„ï¼‰

    dp[i][j] = dp[i-1][j] + dp[i][j-1] if obstacle[i-1][j-1] = 1


3. åˆå§‹åŒ–

    ä¾æ—§å¢åŠ è™šæ‹ŸèŠ‚ç‚¹ï¼Œæ³¨æ„åˆå§‹åŒ–æœ‰ä¸ªè™šæ‹ŸèŠ‚ç‚¹è¦åˆå§‹åŒ–ä¸º0

    åŒæ—¶å¯¹äºæœ‰éšœç¢ç‰©çš„èŠ‚ç‚¹ï¼Œè¦åˆå§‹åŒ–dpå€¼ä¸º0

4. å¡«è¡¨é¡ºåº

    ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹

5. è¿”å›å€¼
    dp[m][n]

```cpp{.line-numbers}
class Solution {
public:
    int uniquePathsWithObstacles(vector<vector<int>>& obstacleGrid) {
        int row = obstacleGrid.size();
        int col = obstacleGrid[0].size();
        if(row == col && row == 1)
            return obstacleGrid[0][0] == 0;
        vector<vector<int>> dp(row + 1, vector<int>(col + 1));
        dp[0][1] = 1;
        for(int i = 1; i <= row; i++)
            for(int j = 1; j <= col; j++)
            {
                if(obstacleGrid[i-1][j-1] == 0)
                    dp[i][j] = dp[i-1][j] + dp[i][j-1];
                else
                    dp[i][j] = 0;
            }

        return dp[row][col];
    }
};
```

### 6.[ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode.cn/problems/li-wu-de-zui-da-jie-zhi-lcof/) 2023.11.2

1. çŠ¶æ€è¡¨ç¤º

    dp[i,j]åˆ°[i,j]ä½ç½®æ—¶æ‹¿ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    è€ƒè™‘åˆ°è™šæ‹ŸèŠ‚ç‚¹ï¼æ³¨æ„å’Œdpè¡¨çš„ä¸‹æ ‡æ˜ å°„

    dp[i][j] = max(dp[i-1][j] + dp[i][j-1]) + frame[i-1][j-1]

3. åˆå§‹åŒ–

    æ˜¾ç„¶åªè¦å…¨ä¸º0å³å¯

4. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œä¸Šåˆ°ä¸‹

5. è¿”å›å€¼

    dp[row][col]



```cpp{.line-numbers}
class Solution {
public:
    int jewelleryValue(vector<vector<int>>& frame) {
        int row = frame.size();
        int col = frame[0].size();
        if(row == col && row == 1)  return frame[0][0];

        vector<vector<int>> dp(row + 1, vector<int>(col + 1));
        for(int i = 1; i <= row; i++)
            for(int j = 1; j <= col; j++)
                dp[i][j] = max(dp[i-1][j], dp[i][j-1]) + frame[i-1][j-1];
        // for(auto& r : dp)
        // {
        //     for(auto& e : r)
        //         cout << e <<" ";
        //     cout << endl;
        // }
        return dp[row][col];
    }
};
//frame
// 1 3 1
// 1 5 1
// 4 2 1
// dp
// 1 4 5
// 2 9 10
// 6 11 12
```


### 7. [æ‰“å®¶åŠ«èˆ](https://leetcode.cn/problems/house-robber/description/?envType=study-plan-v2&envId=top-interview-150) 2023.11.2

æœ€åˆè‡ªå·±æ‰‹æ’•çš„ç‰ˆæœ¬

```cpp{.line-numbers}
class Solution {
public:
    // dp[i] å·çªƒåˆ° i å·æˆ¿å±‹(ä¸”å·çªƒiæˆ¿å±‹)çš„é‡‘é¢æœ€å¤§å€¼ â€”â€” ä»¥æŸä¸ªä½ç½®ä¸ºç»“å°¾
    // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    // dp[i] = max(dp[0] ...  dp[i-2]) + nums[i]

    // dp[0] = nums[0]
    // dp[1] = nums[1]

    // è¿”å›å€¼ max(dp[n-1], dp[n-2]); å·å€’æ•°ç¬¬ä¸€æˆ–è€…å€’æ•°ç¬¬äºŒä¸ªæˆ¿å±‹çš„æƒ…å†µçš„æœ€å¤§å€¼
    // å› ä¸ºè¦æ±‚çš„æ˜¯å·çªƒçš„æœ€å¤§å€¼ï¼Œæ˜¾ç„¶æœ€å¤§å·çªƒæ–¹æ¡ˆå¿…ç„¶å«æœ‰å€’æ•°ç¬¬ä¸€æˆ–è€…å€’æ•°ç¬¬äºŒ

    int rob(vector<int>& nums) {
        int n = nums.size();
        if(n == 1)  return nums[0];
        vector<int> dp(n);
        dp[0] = nums[0];
        dp[1] = nums[1];
        for(int i = 2; i < n; i++)
        {
            int max = dp[0];
            for(int j = 1; j <= i-2; j++)
                if(max < dp[j])
                    max = dp[j];
            dp[i] = max + nums[i];
        }
        // for(auto& e : dp)
        //     cout << e << " ";
        return max(dp[n-1], dp[n-2]);
    }
};
```

å‚è€ƒäº†åˆ«äººçš„é¢˜è§£å¾—å‡ºæ›´å¥½çš„çŠ¶æ€è¡¨ç¤ºä¸çŠ¶æ€è½¬ç§»æ–¹ç¨‹

çŠ¶æ€è¡¨ç¤ºï¼š dp[i] è¡¨ç¤ºå·ç›—iå®¶å±‹å­æ—¶æœ€å·çªƒä»·å€¼ï¼Œ**æ³¨æ„ i å·å±‹å­ä¸ä¸€å®šå·**

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i] = max(dp[i-2] + nums[i], dp[i-1]) {æ ¹æ®iå±‹å­å·ä¸ä¸å·æ¥åˆ’åˆ†ï¼Œå¦‚æœå·ï¼Œåˆ™i-1ä¸€å®šä¸å·ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ ¹æœ¬ä¸åº”è¯¥è€ƒè™‘dp[i-1]ï¼Œè€Œæ˜¯åªè€ƒè™‘dp[i-2], æ‰€ä»¥æ˜¯dp[i-2] + nums[i]ï¼Œæ¢ä¸€ç§è§’åº¦è€ƒè™‘ä¸ºä»€ä¹ˆä¸æ˜¯dp[i-1] + nums[i], å› ä¸ºdp[i-1]å…¶å®ä¾èµ–i-1ä¹°æˆ–è€…ä¸ä¹°ï¼ŒåŒ…å«ä¸¤ç§æƒ…å†µï¼Œå½“æˆ‘ä»¬è€ƒè™‘å·iä½ç½®æ—¶ï¼Œéœ€è¦å¦å†³æ‰å…¶ä¸­ä¸€ä¸ªæƒ…å†µï¼Œè€Œå…¶dp[i]å«ä¸¤ç§æƒ…å†µï¼Œæ˜¾ç„¶ä¸ç¬¦ã€‚ å½“æˆ‘ä»¬ä¸é€‰æ‹©å·iæ—¶ï¼Œi-1å·ä¸å·ï¼Ÿ ä¸çŸ¥é“ï¼ ä¸ç¡®å®šï¼ æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©åŒ…å«è¿™ä¸¤ç§æƒ…å†µçš„dp[i-1]}  â€”â€” ä»ä¸­ä¹Ÿçœ‹å‡ºï¼Œæˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ç´§ç´§ä¾èµ– ä¸¥æ ¼éµç…§æˆ‘ä»¬çš„çŠ¶æ€è¡¨ç¤º


```cpp{.line-numbers}
class Solution {
public:
    int rob(vector<int>& nums) {
        int n = nums.size();
        if(n == 1)  return nums[0];
        vector<int> dp(n);
        dp[0] = nums[0];
        dp[1] = max(nums[1], nums[0]);
        for(int i = 2; i < n; i++)
            dp[i] = max(dp[i-2] + nums[i], dp[i-1]);
        return dp[n-1];
    }
};
```

### 8. [ä¸‹é™è·¯å¾„æœ€å°å’Œ](https://leetcode.cn/problems/minimum-falling-path-sum/) 2023.11.3

1. çŠ¶æ€è¡¨ç¤º

    dp[i][j] è¡¨ç¤ºåˆ°i,jä½ç½®æ—¶çš„æœ€å°ä¸‹é™è·¯å¾„

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    æ³¨æ„ç»“åˆäº†è™šæ‹ŸèŠ‚ç‚¹çš„æ˜ å°„å…³ç³»

    dp[i][j] = min(dp[i-1][j-1], dp[i-1][j], dp[i-1][j+1]) + matrix[i-1][j-1]

3. åˆå§‹åŒ–

    ä¸ºäº†åˆå§‹åŒ–æ–¹ä¾¿ï¼Œä»¥åŠçŠ¶æ€è½¬ç§»æ—¶ä¸è€ƒè™‘è¾¹ç•Œé—®é¢˜ï¼Œæˆ‘ä»¬å¢åŠ å¤´éƒ¨ä¸€è¡Œï¼Œå¼€å§‹çš„å·¦è¾¹å’Œç»“å°¾çš„å³è¾¹ä½ç½®å„å¢åŠ ä¸€åˆ—ï¼ˆç»™åŸæ¥çš„çŸ©é˜µå¤´ä¸ŠåŠ ä¸ªå¸½å­ğŸ˜‹ï¼‰

    æ­¤æ—¶å·¦å³è¾¹ç•Œçš„ä¸¤åˆ—åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œè®©åç»­é€‰æ‹©çš„æ—¶å€™é€‰ä¸ä¸Šå°±è¡Œ

    å¤´éƒ¨çš„ä¸€è¡Œè®¾ç½®ä¸º0ï¼Œä¸å»å½±å“ç¬¬ä¸€è¡Œdpçš„æœ‰æ•ˆå€¼

4. å¡«è¡¨é¡ºåº

    ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹

5. è¿”å›å€¼

    ï¼ˆæå¤´å»å°¾è€ƒè™‘åˆ°è™šæ‹ŸèŠ‚ç‚¹ï¼‰æœ€åä¸€è¡Œçš„æœ€å°å€¼

    min(dp[len + 1][1 ... len + 1])

```cpp{.line-numbers}
class Solution {
public:
    int minFallingPathSum(vector<vector<int>>& matrix) {
        int len = matrix.size();
        if(1 == len)    return matrix[0][0];
        vector<vector<int>> dp(len + 1, vector<int>(len + 2));
        for(int i = 0; i < len + 1; i++)
        {
            dp[i][0] = 1e7;
            dp[i][len + 1] = 1e7;
        }
        for(int i = 1; i < len + 1; i++)
            for(int j = 1; j < len + 1; j++)
                dp[i][j] = min(min(dp[i-1][j-1],dp[i-1][j]), dp[i-1][j+1])
                            + matrix[i-1][j-1];
        int min = dp[len][1];
        for(int i = 2; i < len + 1; i++)
            if(min > dp[len][i])
                min = dp[len][i];
        return min;
    }
};
```


### 9. [æœ€å°è·¯å¾„å’Œ](https://leetcode.cn/problems/minimum-path-sum/) 2023.11.4

1. çŠ¶æ€è¡¨ç¤º

    dp[i][j]  è¡¨ç¤ºèµ°åˆ° i, j ä½ç½®æ—¶çš„æœ€çŸ­è·¯å¾„å’Œ

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    æ˜¾ç„¶æ ¹æ®æœ€è¿‘çš„çŠ¶æ€æ¥ï¼Œè¦ä¹ˆä»å·¦è¦ä¹ˆä»ä¸Šèµ°åˆ°å½“å‰çŠ¶æ€ã€‚æ˜¾ç„¶åªè¦ä¸¤è€…é—´çš„æœ€å°å€¼

    è€ƒè™‘åˆ°è™šæ‹ŸèŠ‚ç‚¹ï¼Œè¦ç»´æŠ¤ä¸‹æ ‡çš„æ˜ å°„å…³ç³»

    dp[i][j] = min(dp[i-1][j], dp[i][j-1]) + grid[i-1][j-1]

3. åˆå§‹åŒ–

    æ–°å¢ä¸€è¡Œä¸€åˆ—çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œä¸”é™¤äº†å’Œdp[1][1]ä¸´æ¥çš„ä¸Šè¾¹å’Œå·¦è¾¹çš„æ ¼å­åˆå§‹åŒ–ä¸º0ï¼Œå…¶ä½™åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼

4. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œä¸Šåˆ°ä¸‹

5. è¿”å›å€¼

    dp[m][n]

```cpp{.line-numbers}
class Solution {
public:
    int minPathSum(vector<vector<int>>& grid) {
        int m = grid.size();
        int n = grid[0].size();

        vector<vector<int>> dp(m + 1, vector<int>(n + 1, 1e8));
        for(int i = 1; i <= m; i++)
            dp[i][0] = 1e8;
        dp[0][1] = dp[1][0];
        for(int i = 1; i <= m; i++)
            for(int j = 1; j <= n; j++)
                dp[i][j] = min(dp[i-1][j], dp[i][j-1]) + grid[i-1][j-1];
        return dp[m][n];
    }
};
```


### 10. [åœ°ä¸‹åŸæ¸¸æˆ](https://leetcode.cn/problems/dungeon-game/) 2023.11.5

1. çŠ¶æ€è¡¨ç¤º

    - ä»¥æŸä¸ªä½ç½®ä¸ºç»“å°¾ï¼Œå·´æ‹‰å·´æ‹‰

    dp[i][j]: ä»èµ·ç‚¹å‡ºå‘åˆ°è¾¾iï¼Œjä½ç½®çš„æ—¶å€™ï¼Œæ‰€éœ€è¦çš„æœ€ä½åˆå§‹å¥åº·å€¼ â€”â€” æ— æ³•æ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹ â€”â€” æŒ‰ç…§è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬ä»å·¦åˆ°å³ä»ä¸Šåˆ°ä¸‹æ¨å¯¼çš„æ—¶å€™ï¼Œå½“å‰ä½ç½®çš„çŠ¶æ€ä¸ä»…ä¼šå—åˆ°ä¸Šé¢çŠ¶æ€çš„å½±å“ï¼Œä¹Ÿä¼šå—åˆ°åé¢çŠ¶æ€çš„å½±å“ã€‚è€Œåœ¨æˆ‘ä»¬æ¨çš„æ—¶å€™æ— æ³•å¾—çŸ¥åé¢çŠ¶æ€ã€‚

    ç†è§£å—åˆ°åé¢çŠ¶æ€çš„å½±å“ï¼šæ¯”å¦‚æˆ‘ä»¬åˆ°ä¸­é—´çš„ä¸€ä¸ªä½ç½®çš„çŠ¶æ€ï¼Œæ­¤æ—¶æˆ‘ä»¬å®Œå…¨æ ¹æ®å‰é¢çš„çŠ¶æ€æ¨å¾—ï¼Œæ­¤æ—¶å¯¹åé¢çš„ä¸€ä¸ªçŠ¶æ€æ— æ„ŸçŸ¥ï¼ˆå…·ä½“æ¥è¯´å°±æ˜¯åé¢ä¸€æ­¥ä¸Šæ˜¯è¡€åŒ…è¿˜æ˜¯æ‰£è¡€ä¸æ¸…æ¥šï¼‰ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹æˆ‘ä»¬æ ¹æ®å‰é¢çš„çŠ¶æ€æ¨çš„å½“å‰çŠ¶æ€çœŸçš„èƒ½èµ°å®Œå…¨ç¨‹å—ï¼Ÿä¸‡ä¸€åé¢çš„ä¸€æ­¥æ‰£è¶…å¤šè¡€é‡ï¼Œè€Œæˆ‘ä»¬æ ¹æ®å‰é¢çš„çŠ¶æ€æ¨å¯¼åˆ°å½“å‰çš„dpå€¼ä¸å¤§ï¼Œè¿™ç§ç»å¯¹æ˜¯ä¸€ä¸ªé”™è¯¯çš„è§£ã€‚

    - ä»¥æŸä¸ªä½ç½®ä¸ºèµ·ç‚¹ï¼Œå·´æ‹‰å·´æ‹‰

    dp[i][j]: ä»i, j ä½ç½®å‡ºå‘åˆ°è¾¾ç»ˆç‚¹ï¼Œæ‰€éœ€çš„æœ€ä½åˆå§‹å¥åº·å€¼

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[i][j] <--- å¾€ä¸‹èµ°æˆ–è€…å¾€å³èµ°

    dp[i][j] = min(dp[i][j+1], dp[i+1][j]) - dungen[i][j]

    dp[i][j] = max(1, dp[i][j]) å¦‚æœdungen[i][j]è¿‡å¤§ï¼Œåˆ™è¡¨æ˜è¿™ä¸ªä½ç½®æœ‰ä¸ªè¶…çº§å¤§è¡€åŒ…ï¼Œä»¥è‡³äºèƒ½ä½¿å¾—è¯¥ä½ç½®çš„åˆå§‹dpå€¼ä¸ºè´Ÿæ•°éƒ½èƒ½èµ°è¿‡ï¼Œè¿™ä¸ªæ˜¯æ˜¾ç„¶ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºè¡€é‡è‡³å°‘ä¸º1ï¼Œæ•…å¦‚æœdpç®—åˆ°ä¸ºè´Ÿï¼Œè¦æŠŠdpå€¼ä¿®æ­£ä¸º1


3. åˆå§‹åŒ–

    ä¿è¯å¡«è¡¨ä¸è¶Šç•Œï¼Œæˆ‘ä»¬è¦åœ¨æœ€åä¸€è¡Œä»¥åŠæœ€åä¸€åˆ—æ·»åŠ ä¸€è¡Œä¸€åˆ—

    æœ€åä¸€ä¸ªæ ¼å­ä¸‹é¢å’Œå³è¾¹ä¸º1ï¼Œå…¶ä»–è®¾ä¸ºæ— ç©·å¤§

4. å¡«è¡¨é¡ºåº

    ä»å³åˆ°å·¦ï¼Œä»ä¸‹å¾€ä¸Š

5. è¿”å›å€¼

    dp[0][0]

```cpp{.line-numbers}
class Solution {
public:
    int calculateMinimumHP(vector<vector<int>>& dungeon) {
        int m = dungeon.size();
        int n = dungeon[0].size();
        vector<vector<int>> dp(m + 1, vector<int>(n + 1, INT_MAX));
        dp[m-1][n] = dp[m][n-1] = 1;

        for(int i = m - 1; i >= 0; i--)
        {
            for(int j = n - 1; j >= 0; j--)
            {
                dp[i][j] = max(min(dp[i][j+1], dp[i+1][j]) - dungeon[i][j], 1);
            }
        }
        return dp[0][0];
    }
};
```

### 11. [æŒ‰æ‘©å¸ˆ](https://leetcode.cn/problems/the-masseuse-lcci/) 2023.11.6

å¤šçŠ¶æ€dpå’Œæ‰“å®¶åŠ«èˆé—®é¢˜ä¸€æ¨¡ä¸€æ ·ï¼

[æ‰“å®¶åŠ«èˆé—®é¢˜](#7-æ‰“å®¶åŠ«èˆ-2023112)

```cpp{.line-numbers}
class Solution {
public:
    // å…¶å®æ˜¯æ‰“å®¶åŠ«èˆé—®é¢˜
    // dp[i] é€‰æ‹©åˆ°ä½ç½®æ—¶æ€»çš„æœ€é•¿é¢„çº¦æ—¶é—´ï¼ˆiä½ç½®å¯ä»¥é€‰æˆ–è€…ä¸é€‰ï¼‰
    int massage(vector<int>& nums) {
        int n = nums.size();
        if(n == 0) return 0;
        if(n == 1) return nums[0];
        vector<int> dp(n);
        dp[0] = nums[0];
        dp[1] = max(nums[0], nums[1]);
        for(int i = 2; i < n; i++)
            dp[i] = max(dp[i-1], dp[i-2] + nums[i]);
        return dp[n-1];
    }
};
```

### 12. [å•è¯æ‹†åˆ†](https://leetcode.cn/problems/word-break/) 2023.11.7

1. çŠ¶æ€è¡¨ç¤º

    dp[i] è¡¨ç¤ºiä½ç½®åˆ°å­—ç¬¦ä¸²é¦–ä½ç½®ï¼Œèƒ½å¦æˆåŠŸæ‹†åˆ†

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    å…ˆçœ‹æœ€è¿‘çš„çŠ¶æ€:
    å¦‚æœdp[i-1] = true, s[0, i-2]åœ¨å•è¯å­—å…¸ä¸­ï¼Œåˆ™dp[i] = true
    å¦‚æœdp[i-2] = true, s[0, i-3]åœ¨å•è¯å­—å…¸ä¸­ï¼Œåˆ™dp[i] = true
    å¦‚æœdp[i-3] = true, s[0, i-4]åœ¨å•è¯å­—å…¸ä¸­ï¼Œåˆ™dp[i] = true
    ...
    æ˜¾ç„¶å½“å‰çŠ¶æ€è¦ç”±å‰é¢æˆ‘ä»¬æ¨å¯¼å‡ºæ¥çš„æ‰€æœ‰çŠ¶æ€æ¨å¯¼å‡ºæ¥

3. åˆå§‹åŒ–

    ä¸ºäº†å¡«è¡¨çš„æ—¶å€™ä¸è¶Šç•Œï¼Œæˆ‘ä»¬ä»ç„¶ä½¿ç”¨è™šæ‹ŸèŠ‚ç‚¹ï¼Œi=0æ—¶ä¼šè¶Šç•Œï¼Œæˆ‘ä»¬åœ¨å¤´éƒ¨å¤šå¼€ä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè™šæ‹ŸèŠ‚ç‚¹dp[0]åˆå§‹åŒ–å³å¯ã€‚è€ƒè™‘i = 1çš„æƒ…å†µï¼Œæ­¤æ—¶dp[1]ç”±dp[0]æ¨å‡ºï¼Œæ­¤æ—¶çš„æ¡ä»¶æ˜¯dp[0] && s[0]åœ¨å­—ç¬¦å­—å…¸ä¸­ï¼Œå› ä¸ºæ˜¯è™šæ‹ŸèŠ‚ç‚¹ï¼Œåªè¦s[0]åœ¨å­—å…¸ä¸­å³å¯ï¼Œæ‰€ä»¥dp[0] = trueã€‚

4. è¿”å›å€¼

    dp[s.size()];

```cpp{.line-numbers}
class Solution {
public:
    bool wordBreak(string s, vector<string>& wordDict) {
        // dp[i] i ä½ç½®æ˜¯å¦å¯ä»¥æˆåŠŸæ‹†åˆ†
        unordered_set<string> hashtable(wordDict.begin(), wordDict.end());
        vector<bool> dp(s.size() + 1, false);
        dp[0] = true;
        for(int i = 1; i <= s.size(); i++)
        {
            for(int j = 0; j < i; j++)
            {
                string word = s.substr(j, i - j);
                if(dp[j] && hashtable.find(word) != hashtable.end())
                    dp[i] = true;
            }
        }
        return dp[s.size()];
    }
};
```
### 13. [æ‰“å®¶åŠ«èˆ II](https://leetcode.cn/problems/house-robber-ii/) 2023.11.9

#### åˆ†æ

é¢˜ç›®ä¸æ‰“å®¶åŠ«èˆä¸€çš„åŒºåˆ«åœ¨äºï¼šé¦–å°¾ç›¸è¿ï¼Œå·äº†ä¸€ç¬¬ä¸€ä¸ªä½ç½®çš„æˆ¿å±‹åˆ™æœ«å°¾çš„æˆ¿å±‹ä¸èƒ½å†å·

ä»ç¬¬ä¸€ä¸ªä½ç½®å…¥æ‰‹ï¼š

- å¦‚æœå·i = 0ï¼Œåˆ™ i = 1ï¼Œ i = n - 1ä½ç½®çš„æˆ¿å±‹ä¸èƒ½å·ï¼Œæ­¤æ—¶ [2, n-2]åŒºé—´å†…çš„é—®é¢˜å°±æ˜¯çº¿æ€§çš„æ‰“å®¶åŠ«èˆä¸€
- å¦‚æœä¸å·i = 0ï¼Œ åˆ™ä¸éœ€è¦è€ƒè™‘ç¯å½¢é—®é¢˜ï¼Œæ­¤æ—¶é—®é¢˜è½¬æ¢ä¸ºåœ¨[1, n-1]åŒºé—´å†…è¿›è¡Œçº¿æ€§çš„æ‰“å®¶åŠ«èˆä¸€çš„å¤„ç†

æœ€åæˆ‘ä»¬çš„ç»“æœå°±æ˜¯ä¸Šé¢ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼

è™½ç„¶æ‰“å®¶åŠ«èˆäºŒå¥—äº†ä¸€å±‚ç¯å½¢çš„çš®ï¼Œä½†æ˜¯é€šè¿‡åˆ†æä¼šâ€œå‡ºé—®é¢˜â€çš„ç¬¬ä¸€ä¸ªä½ç½®çš„ä¸¤ç§æƒ…å†µï¼Œå¯ä»¥æŠŠè¿™æ ·ä¸€ä¸ªç¯å½¢é—®é¢˜è½¬åŒ–æˆä¸¤ä¸ªçº¿æ€§çš„æ‰“å®¶åŠ«èˆä¸€æ¥è§£å†³

```cpp{.line-numbers}
class Solution {
public:
    // æ‰“å®¶åŠ«èˆä¸€
    // åœ¨[begin, end]çš„é—­åŒºé—´ä¸Šè¿›è¡Œæ‰“å®¶åŠ«èˆä¸€
    int rob_1(const vector<int>& nums, int begin, int end)
    {
        int n = end - begin + 1;
        if(n == 1)  return nums[begin];
        vector<int> dp(n);
        dp[0] = nums[begin];
        dp[1] = max(nums[begin], nums[begin+1]);
        for(int i = 2; i < n; i++)
        {
            dp[i] =  max(dp[i-2] + nums[begin + i], dp[i-1]);
        }
        return dp[n-1];
    }

    int rob(vector<int>& nums) {
        int n = nums.size();
        if(n <= 3)
            return *max_element(nums.begin(), nums.end());
        return max(nums[0] + rob_1(nums, 2, n-2), rob_1(nums, 1, n-1));
    }
};
```

### 14. [åˆ é™¤å¹¶è·å¾—ç‚¹æ•°](https://leetcode.cn/problems/delete-and-earn/) 2023.11.9

é€šè¿‡å°†åŸå§‹åºåˆ—numsè½¬åŒ–æˆåºåˆ—å€¼nums[i]ä¸ºä¸‹æ ‡ï¼Œä¸‹æ ‡å¯¹åº”æ•°ä¸ºnum[i]æ€»å’Œçš„åºåˆ—arrï¼Œå°†åŸé—®é¢˜è½¬åŒ–ä¸ºæ‰“å®¶åŠ«èˆä¸€é—®é¢˜

```cpp{.line-numbers}
class Solution {
public:
    // æ‰“å®¶åŠ«èˆä¸€
    // åœ¨[begin, end]çš„é—­åŒºé—´ä¸Šè¿›è¡Œæ‰“å®¶åŠ«èˆä¸€
    int rob_1(const vector<int>& nums, int begin, int end)
    {
        int n = end - begin + 1;
        if(n == 1)  return nums[begin];
        vector<int> dp(n);
        dp[0] = nums[begin];
        dp[1] = max(nums[begin], nums[begin+1]);
        for(int i = 2; i < n; i++)
        {
            dp[i] =  max(dp[i-2] + nums[begin + i], dp[i-1]);
        }
        return dp[n-1];
    }
    int deleteAndEarn(vector<int>& nums) {
        int n = *max_element(nums.begin(), nums.end());
        vector<int> arr(n + 1);
        for(const auto &e : nums)
            arr[e] += e;
        return rob_1(arr, 0, n);
    }
};
```

### 15. [ç²‰åˆ·æˆ¿å­](https://leetcode.cn/problems/JEj789/) 2023.11.11

1. çŠ¶æ€è¡¨ç¤º

å¼€äºŒç»´dpè¡¨ï¼Œå¤šçŠ¶æ€dpï¼Œå¯¹äºiä½ç½®çš„æœ€å°èŠ±è´¹ï¼Œå¯ä»¥ç»†åˆ†ä¸ºä¸‰ç§çŠ¶æ€

dp[i][0] è¡¨ç¤ºï¼šiä½ç½®æ¶‚ä¸Šçº¢è‰²çš„æœ€å°èŠ±è´¹
dp[i][1] è¡¨ç¤ºï¼šiä½ç½®æ¶‚ä¸Šè“è‰²çš„æœ€å°èŠ±è´¹
dp[i][2] è¡¨ç¤ºï¼šiä½ç½®æ¶‚ä¸Šç»¿è‰²çš„æœ€å°èŠ±è´¹


2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[i][0] = cost[i][0] + min(dp[i-1][1], dp[i-1][2])
    dp[i][1] = cost[i][1] + min(dp[i-1][0], dp[i-1][1])
    dp[i][2] = cost[i][2] + min(dp[i-1][0], dp[i-1][1])

3. åˆå§‹åŒ–

    dp[i][0] = cost[i][0]
    dp[i][1] = cost[i][1]
    dp[i][2] = cost[i][2]

    æˆ–è€…å¤šå¼€ä¸€è¡Œç©ºé—´ï¼Œç”¨è™šæ‹ŸèŠ‚ç‚¹

4. å¡«è¡¨é¡ºåº

    ä»å·¦åˆ°å³ä»ä¸Šå¾€ä¸‹

5. è¿”å›å€¼

    min(dp[i][0], dp[i][1], dp[i][2])

```cpp{.line-numbers}
class Solution {
public:
    int minCost(vector<vector<int>>& costs) {
        int n = costs.size();
        vector<vector<int>> dp(n + 1 , vector<int>(3, 0));
        for(int i = 1; i <= n; i++)
        {
            dp[i][0] = costs[i-1][0] + min(dp[i-1][1], dp[i-1][2]);
            dp[i][1] = costs[i-1][1] + min(dp[i-1][0], dp[i-1][2]);
            dp[i][2] = costs[i-1][2] + min(dp[i-1][0], dp[i-1][1]);
        }
        return *min_element(dp[n].begin(), dp[n].end());
    }
};
```

### 16. [ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«å†·å†»æœŸ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/) 2023.11.11

1. çŠ¶æ€è¡¨ç¤º

    iå¤©çš„æœ€å¤§åˆ©æ¶¦æœ‰ä¸‰ç§çŠ¶æ€,å®šä¹‰ï¼š
    dp[i][0] : ç¬¬iå¤©**ç»“æŸ**ï¼Œå¤„äºä¹°å…¥çŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦
    dp[i][0] : ç¬¬iå¤©**ç»“æŸ**ï¼Œå¤„äºå¯äº¤æ˜“çŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦ã€‚ç†è§£å¯äº¤æ˜“ï¼šiå¤©ç»“æŸï¼Œæ‰‹é‡Œæ²¡è‚¡ç¥¨ï¼Œåé¢**å¯ä»¥ä¹°**
    dp[i][0] : ç¬¬iå¤©**ç»“æŸ**ï¼Œå¤„äºå†·å†»æœŸçŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    æ­¤å¤„ä¸ºä¸€ä¸ªçŠ¶æ€æœºï¼Œä¸‰ä¸ªçŠ¶æ€éƒ½è¦è€ƒè™‘èƒ½å¦è‡ªå·±åˆ°è‡ªå·±ï¼Œè‡ªå·±åˆ°å…¶ä»–ï¼Œæœ€å¥½ç”»å‡ºçŠ¶æ€è½¬æ¢å›¾ï¼Œæ³¨æ„å¾—ä¸é‡ä¸æ¼
    dp[i][0] = max(dp[i-1][0], dp[i-1][1] - prices[i]) -> ç¬¬iå¤©ç»“æŸåå¤„äºä¹°å…¥çŠ¶æ€æœ‰ä¸¤ç§æƒ…å†µï¼š i-1å¤©ç»“æŸå¤„äºä¹°å…¥çŠ¶æ€ï¼Œiå¤©ä»€ä¹ˆä¹Ÿä¸å¹² / i - 1å¤©å¤„äºå¯äº¤æ˜“çŠ¶æ€ï¼Œiå¤©ä¹°å…¥è‚¡ç¥¨
    dp[i][1] = max(dp[i-1][1], dp[i-1][2]) -> ç¬¬iå¤©å‡ºç‹±å¯äº¤æ˜“çŠ¶æ€æœ‰ä¸¤ç§æƒ…å†µï¼ši-1å¤©ç»“æŸå¤„äºå¯äº¤æ˜“ï¼Œiå¤©å•¥ä¹Ÿä¸å¹²ï¼Œ i-1å¤©ç»“æŸå¤„äºå†»ç»“çŠ¶æ€ï¼Œç¬¬iå¤©è¢«å†»ç»“å•¥ä¹Ÿä¸å¹²
    dp[i][2] = dp[i][0] + prices[i] -> ç¬¬iå¤©ç»“æŸå¤„äºå†·å†»æœŸæœ‰ä¸€ç§æƒ…å†µï¼ši-1å¤©ç»“æŸå¤„äºä¹°å…¥çŠ¶æ€ï¼Œiå¤©å°†è‚¡ç¥¨å–å‡ºï¼Œiå¤©ç»“æŸè¿›å…¥å†»ç»“æœŸï¼ˆè™½ç„¶i-1å¤©ç»“æŸåå¤„äºå¯äº¤æ˜“çŠ¶æ€ï¼‰

3. åˆå§‹åŒ–

    dp[0][0] = -1 * prices[0];
    dp[0][1] = 0;
    dp[0][2] = 0;

4. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œä¸Šåˆ°ä¸‹

5. è¿”å›å€¼

    max(dp[n-1][1], dp[n-1][2]) å› ä¸ºæœ€åä¸€å¤©ç»“æŸå¦‚æœå¤„äºä¹°å…¥çŠ¶æ€ä¸€å®šä¸æ˜¯æœ€å¤§åˆ©æ¶¦ï¼Œæœ€åä¸€å¤©èŠ±å‡ºå»çš„é’±æ²¡æœ‰å–å›æ¥

```cpp{.line-numbers}
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        vector<vector<int>> dp(n, vector<int>(3, 0));
        dp[0][0] = -1 * prices[0];
        dp[0][1] = 0;
        dp[0][2] = 0;
        for(int i = 1; i < n; i++)
        {
            dp[i][0] = max(dp[i-1][0], dp[i-1][1] - prices[i]);
            dp[i][1] = max(dp[i-1][1], dp[i-1][2]);
            dp[i][2] = dp[i-1][0] + prices[i];
        }
        return max(dp[n-1][1], dp[n-1][2]);
    }
};
```

### 17.[ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸå«æ‰‹ç»­è´¹](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/) 2023.11.12

1. çŠ¶æ€è¡¨ç¤º

    dp[i] ç¬¬iå¤©**ç»“æŸ**ï¼Œæ‰€èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦ï¼Œ dp[i]åˆå¯ä»¥åˆ†ä¸ºä¸¤ç§çŠ¶æ€ï¼šä¹°å…¥ï¼ˆæ‰‹ä¸­æ²¡æœ‰è‚¡ç¥¨ï¼‰ & å¯äº¤æ˜“ï¼ˆæ‰‹ä¸­æ²¡æœ‰è‚¡ç¥¨ï¼‰

    é€‰æ‹© n * 2 çš„dpè¡¨ï¼Œæˆ–è€…ç”¨ä¸¤ä¸ªæ•°ç»„è¡¨ç¤ºdpè¡¨ï¼Œ fï¼Œg

    dp[i][0] è¡¨ç¤º i å¤©ç»“æŸå¤„äºä¹°å…¥çŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦

    dp[i][1] è¡¨ç¤º i å¤©ç»“æŸå¤„äºå¯äº¤æ˜“çŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦

3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[i][0] = max(dp[i-1][0], dp[i-1][1]-prices[i])
    dp[i][1] = max(dp[i-1][0] + prices[i] - fee, dp[i-1][1])

4. åˆå§‹åŒ–

    dp[0][0] = -price[i] ç¬¬ä¸€å¤©ç›´æ¥ä¹°
    dp[0][1] = 0

5. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œä¸Šåˆ°ä¸‹

6. è¿”å›å€¼

    dp[n-1][1] æœ€å¤§åˆ©æ¶¦ä¸€å®šæ˜¯æœ€åä¸€å¤©å¤„äºå¯äº¤æ˜“çŠ¶æ€


### 18.[ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/description/) 2023.11.13

1. çŠ¶æ€è¡¨ç¤º

    dp[i] : ç¬¬iå¤©**ç»“æŸä¹‹å**ï¼Œæ‰€èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦

    ç¬¬iå¤©åˆæœ‰ä¸¤ç§çŠ¶æ€ï¼Œä¹°å…¥ï¼ˆæ‰‹é‡Œæœ‰è‚¡ç¥¨ï¼‰f[i] å’Œå–å‡ºï¼ˆæ‰‹é‡Œæ²¡è‚¡ç¥¨ï¼‰g[i]
    å°†f[i] æ‰©å±•ä¸ºf[i][j] jè¡¨ç¤ºäº¤æ˜“æ¬¡æ•°ï¼Œ gåŒç†

    f[i][j]: ç¬¬iå¤©ç»“æŸï¼Œå®Œæˆäº†jç¬”äº¤æ˜“ï¼Œæ­¤æ—¶å¤„äºä¹°å…¥çŠ¶æ€ï¼ˆæ‰‹é‡Œæœ‰è‚¡ç¥¨ï¼‰çš„æœ€å¤§åˆ©æ¶¦
    g[i][j]: ç¬¬iå¤©ç»“æŸï¼Œå®Œæˆäº†jç¬”äº¤æ˜“ï¼Œæ­¤æ—¶å¤„äºå–å‡ºçŠ¶æ€ï¼ˆæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨ï¼‰çš„æœ€å¤§åˆ©æ¶¦

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    ![è‚¡ç¥¨é—®é¢˜ç»ˆæ(ä»»æ„næ¬¡æ•°)çŠ¶æ€è½¬ç§»å›¾](img/è‚¡ç¥¨é—®é¢˜ç»ˆæ(ä»»æ„næ¬¡æ•°).png)

    f[i][j] = max(f[i-1][j], g[i-1][j] - prices[i])
    g[i][j] = max(g[i-1][j], f[i-1][j-1] + prices[i])

    ä»æ–¹ç¨‹1:å‘ç°få’Œgåªè¦åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
    ä»æ–¹ç¨‹2:å‘ç°fé™¤äº†éœ€è¦åˆå§‹åŒ–ç¬¬ä¸€è¡Œè¿˜è¦åˆå§‹åŒ–ç¬¬ä¸€åˆ— j = 0 æ—¶ j = -1 æ˜¾ç„¶ä¸å­˜åœ¨-1ç¬”äº¤æ˜“ï¼Œæ‰€ä»¥æ­¤æ—¶çš„maxå€¼åªèƒ½æ˜¯g[i-1][j]

    æ­¤æ—¶æˆ‘ä»¬é€šè¿‡å¯¹çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿›è¡Œä¸€ä¸ªå¾®å°çš„è°ƒæ•´å³å¯æŠŠè¿™ä¸ªåˆå§‹åŒ–è¶Šç•Œçš„é—®é¢˜è§£å†³

    step1: g[i][j] = g[i-1][j]

    step2: if(j - 1 >= 0) g[i][j] = max(g[i][j], f[i-1][j-1] + prices[i]) å³é€šè¿‡ä¸€ä¸ªåˆ¤æ–­å±è”½æ‰äº¤æ˜“æ¬¡æ•°ä¸º-1çš„æƒ…å†µ

3. åˆå§‹åŒ–

    f[0][0] = -price[0], g[0][0] = 0

    f[0][1...n] = è´Ÿæ— ç©·å¤§ï¼Œå› ä¸ºäº¤æ˜“æ¬¡æ•°æœ‰é™ï¼Œç¬¬ä¸€å¤©æ˜¾ç„¶ä¸èƒ½äº¤æ˜“åˆ°å¤šç¬”ï¼Œè®¾ç½®ä¸ºä¸€ä¸ªè´Ÿæ— ç©·å¤§ï¼Œå°±ä¸ä¼šå¹²æ‰°åˆ°æ±‚max

    g[0][1...n] åŒç†è®¾ç½®ä¸ºè´Ÿæ— ç©·å¤§ï¼Œä¸å¹²æ‰°max

    æ³¨æ„âš ï¸ç»†èŠ‚é—®é¢˜ï¼š å¦‚æœè®¾ç½®ä¸ºINT_MINï¼Œ å¯¹äºæ–¹ç¨‹1ä¼šæœ‰ä¸€ä¸ªå‡çš„æ“ä½œï¼Œå¯¹äºä¸€ä¸ªintæœ€å°å€¼å†å‡å»ä¸€ä¸ªå€¼ï¼Œä¼šä¸‹æº¢ï¼Œå¯¹äºæ£€æŸ¥ä¸¥æ ¼çš„ç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼Œå¯¹äºæ£€æŸ¥ä¸ä¸¥æ ¼çš„ç¼–è¯‘å™¨ï¼Œä¸‹æº¢åä¼šå˜æˆä¸€ä¸ªå¾ˆå¤§çš„å€¼

    æ‰€ä»¥æ­¤å¤„æˆ‘ä»¬é€‰ç”¨çš„â€œè´Ÿæ— ç©·å¤§â€è®¾ç½®ä¸º è´Ÿçš„0x3f3f3f3fï¼Œè¿™æ˜¯ä¸€ä¸ªç®—æ³•é¢˜å¸¸ç”¨çš„ä¸€ä¸ªæ•°
    ä¸€èˆ¬å¯ä»¥ç”¨æ¥è¡¨ç¤ºå¾ˆå¤§å’Œå¾ˆå°çš„æ•°ï¼Œä¿è¯åŠ ä¸Šæˆ–è€…å‡å»ä¸€äº›ä¸æ˜¯é‚£ä¹ˆå¤§æˆ–è€…å°çš„æ•°å­—ä¸ä¼šæº¢å‡º

4. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œä¸Šåˆ°ä¸‹

5. è¿”å›å€¼
    max(g[n-1][0], g[n-1][1], g[n-1][2])

```cpp{.line-numbers}
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        const int MAX_DEAL_NUM = 2;
        const int NEG_INF = -0x3f3f3f3f;
        vector<vector<int>> f(n, vector<int>(MAX_DEAL_NUM + 1, NEG_INF));
        vector<vector<int>> g(f);
        f[0][0] = -prices[0];
        g[0][0] = 0;
        for(int i = 1; i < n; i++)
        {
            for(int j = 0; j < MAX_DEAL_NUM + 1; j++)
            {
                f[i][j] = max(f[i-1][j], g[i-1][j] - prices[i]);
                g[i][j] = g[i-1][j];
                if(j - 1 >= 0)
                    g[i][j] = max(g[i][j], f[i-1][j-1] + prices[i]);
            }
        }
        return *max_element(g[n-1].begin(), g[n-1].end());
    }
};
```

æ³¨ï¼š è¿™é‡Œç»™å‡ºäº†ä¸€ä¸ªè‚¡ç¥¨é—®é¢˜é€šè§£ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹MAX_DEAL_NUMæ¥å®ç°æœ€å¤šnç¬”çš„è‚¡ç¥¨é—®é¢˜

### 19. [ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/submissions/)

åˆ†æåŒä¸Šé¢˜ä¸€æ¯›ä¸€æ ·ï¼Œå¹¶ä¸”ä¸Šé¢˜ç»™å‡ºäº†é€šè§£ï¼Œå°†MAX_DEAL_NUMä¿®æ”¹æˆkè¿™é“é¢˜å°±è¿‡äº†

```cpp{.line-numbers}
class Solution {
public:
    int maxProfit(int k, vector<int>& prices) {
        int n = prices.size();
        const int MAX_DEAL_NUM = k;
        const int NEG_INF = -0x3f3f3f3f;
        vector<vector<int>> f(n, vector<int>(MAX_DEAL_NUM + 1, NEG_INF));
        vector<vector<int>> g(f);
        f[0][0] = -prices[0];
        g[0][0] = 0;
        for(int i = 1; i < n; i++)
        {
            for(int j = 0; j < MAX_DEAL_NUM + 1; j++)
            {
                f[i][j] = max(f[i-1][j], g[i-1][j] - prices[i]);
                g[i][j] = g[i-1][j];
                if(j - 1 >= 0)
                    g[i][j] = max(g[i][j], f[i-1][j-1] + prices[i]);
            }
        }
        return *max_element(g[n-1].begin(), g[n-1].end());
    }
};
```

### 20. [æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/) 2023.11.14

1. çŠ¶æ€è¡¨ç¤º

    dp[i] è¡¨ç¤º: ä»¥**iä½ç½®ç»“å°¾**çš„**æ‰€æœ‰å­æ•°ç»„**ä¸­çš„**æœ€å¤§å’Œ**

2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    dp[i] æ‰€æœ‰å­æ•°ç»„åˆ†ä¸ºé•¿åº¦ä¸º1çš„å­æ•°ç»„(nums[i]) ä¸ é•¿åº¦å¤§äº1çš„å­æ•°ç»„ï¼ˆä»¥i-1ä¸ºç»“å°¾ + nums[i]ï¼‰
    è€Œdp[i-1]è¡¨ç¤ºä»¥i-1ç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œ

    é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹å‘¼ä¹‹æ¬²å‡º ï¼š dp[i] = max(nums[i], nums[i] + dp[i-1])

3. åˆå§‹åŒ–

    dp[0] = nums[0]

4. å¡«è¡¨é¡ºåº

    å·¦åˆ°å³ï¼Œçº¿æ€§dp

5. è¿”å›å€¼

    max(dp[0:n])

```cpp{.line-numbers}
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int n = nums.size();
        vector<int> dp(n);
        dp[0] = nums[0];
        for(int i = 1; i < n; i++)
        {
            dp[i] = max(dp[i-1] + nums[i], nums[i]);
        }
        return *max_element(dp.begin(), dp.end());
    }
};
```


### 21. [ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode.cn/problems/maximum-sum-circular-subarray/) 2023.11.16

åˆ†æï¼š
![](./img/T21.PNG)

ç”±äºè¿ç»­å­æ•°ç»„å…è®¸æˆç¯ï¼Œå¾ˆå®¹æ˜“è”æƒ³åˆ°æˆ‘ä»¬å‰é¢åšè¿‡çš„æ‰“å®¶åŠ«èˆç³»åˆ—é—®é¢˜ï¼Œå°†æˆç¯çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªçº¿æ€§é—®é¢˜

æœ€å¤§è¿ç»­çš„å­æ•°ç»„æ— éä¸¤ç§æƒ…å†µï¼š

1. åœ¨æ•°ç»„å†…éƒ¨ï¼ˆä¸æˆç¯ï¼‰ï¼Œ è¿™ç§æƒ…å†µå°±æ˜¯å‰é¢ä¸€é¢˜çš„è§£å†³æ–¹æ¡ˆ
2. æ•°ç»„å¤´å°¾çš„éƒ¨åˆ†ï¼ˆæˆç¯ï¼‰ï¼Œ è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ›²çº¿æ•‘å›½ï¼Œå¯¹äºæ­¤æ—¶å¤´å°¾çš„å’Œæœ€å¤§ï¼Œåˆç”±äºæˆ‘ä»¬çš„æ•°ç»„å…ƒç´ å’Œä¸ºå®šå€¼ï¼Œé‚£ä¹ˆå¯¹äºæ•°ç»„åˆ¨å»å¤´å°¾çš„éƒ¨åˆ†å°±æ˜¯æƒ…å†µ1ï¼Œåªä¸è¿‡æ­¤æ—¶å’Œä¸ºæœ€å°å€¼

æŒ‰ç…§ä¸æˆç¯çš„æƒ…å†µdpåšå‡ºè¿ç»­å­æ•°ç»„å’Œçš„æœ€å°å€¼minValä¸mamValï¼Œæ±‚max(maxVal, sum - minVal)å³å¯

```cpp{.line-numbers}
class Solution {
public:
    // æ±‚è¿ç»­ä¸æˆç¯å­æ•°ç»„çš„æœ€å¤§å’Œæˆ–è€…æœ€å°å’Œï¼Œfunction
    int dpSubarrayLinar(vector<int>& nums, function<int(int, int)> f)
    {
        int n = nums.size();
        vector<int> dp(n);
        dp[0] = nums[0];
        for(int i = 1; i < n; i++)
        {
            dp[i] = f(nums[i], dp[i-1] + nums[i]);
        }
        int ret = dp[0];
        for(int i = 1; i < n; i++)
            ret = f(ret, dp[i]);
        return ret;
    }
    int maxSubarraySumCircular(vector<int>& nums) {
        int minVal = dpSubarrayLinar(nums, [](int a, int b){ return min(a, b);});
        int maxVal = dpSubarrayLinar(nums, [](int a, int b){ return max(a, b);});
        int sum = 0;
        for(auto e : nums)
            sum += e;
        return max( minVal < sum ? sum - minVal : -0x3f3f3f3f, maxVal);
    }
};
```

### 22.[]()
